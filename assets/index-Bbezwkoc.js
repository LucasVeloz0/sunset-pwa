import{r as n,j as t,c as j}from"./react-vendor-BzzwJzSH.js";import{s as m}from"./suncalc-DPRD1gft.js";import"./vendor-SPyfQU6S.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const w=(r,s)=>{const a=new Date,c=m.getTimes(a,r,s).sunset;return(m.getPosition(c,r,s).azimuth*180/Math.PI+180)%360},b=r=>(360-r)%360,y=()=>{const[r,s]=n.useState(null),[a,c]=n.useState(0),[e,o]=n.useState(0),[l,p]=n.useState(null),[h,v]=n.useState(!1);n.useEffect(()=>{const d=i=>{s({lat:i.coords.latitude,lng:i.coords.longitude})},u=i=>{p(i.message||"Erro ao obter localização")};if(!navigator.geolocation){p("Geolocalização não suportada");return}navigator.geolocation.getCurrentPosition(d,u,{enableHighAccuracy:!0,timeout:5e3})},[]),n.useEffect(()=>{if(r){const d=w(r.lat,r.lng);c(d)}},[r]),n.useEffect(()=>{const d=u=>{if(u.alpha!==null){let i=u.alpha;typeof u.webkitCompassHeading<"u"&&(i=u.webkitCompassHeading),o(b(i))}};return window.addEventListener("deviceorientation",d,!0),()=>{window.removeEventListener("deviceorientation",d)}},[]);const x=()=>{/android/i.test(navigator.userAgent)?window.location.href="intent://media/scanner#Intent;package=com.android.camera;end":(alert("Abra o aplicativo de câmera e aponte na direção indicada!"),v(!0))},f=()=>(a-e+360)%360,g=Math.abs(f())<5;return t.jsxs("div",{className:"app-container",children:[t.jsx("h1",{children:"🌅 Guia do Pôr do Sol"}),t.jsx("button",{className:`camera-button ${h?"active":""}`,onClick:x,children:"📸 Abrir Câmera"}),l&&t.jsx("div",{className:"error-banner",children:l}),t.jsxs("div",{className:"compass-wrapper",children:[t.jsxs("div",{className:"compass",children:[t.jsx("div",{className:"direction-arrow",style:{transform:`rotate(${f()}deg)`},children:t.jsx("div",{className:"sun-indicator",children:"☀️"})}),t.jsx("div",{className:"alignment-marker"})]}),t.jsxs("div",{className:"info-panel",children:[t.jsxs("p",{children:["⏱ Horário do pôr do sol: ",r&&new Date(m.getTimes(new Date,r.lat,r.lng).sunset).toLocaleTimeString()]}),t.jsxs("p",{children:["🧭 Direção: ",a.toFixed(1),"°"]}),t.jsx("div",{className:`alignment-feedback ${g?"aligned":""}`,children:g?"⭐ ALINHADO! ⭐":"Gire o dispositivo... ➡️"})]})]})]})};j.createRoot(document.getElementById("root")).render(t.jsx(n.StrictMode,{children:t.jsx(y,{})}));
//# sourceMappingURL=index-Bbezwkoc.js.map
