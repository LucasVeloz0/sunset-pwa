import{r as n,j as t,c as v}from"./react-vendor-BzzwJzSH.js";import{s as p}from"./suncalc-DPRD1gft.js";import"./vendor-SPyfQU6S.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(e){if(e.ep)return;e.ep=!0;const s=a(e);fetch(e.href,s)}})();function x(){const[i,l]=n.useState(null),[a,d]=n.useState(null),[e,s]=n.useState(0),[c,u]=n.useState(null);n.useEffect(()=>{(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(r=>{l({lat:r.coords.latitude,lng:r.coords.longitude})},r=>u("Ative a localização para usar o app")):u("Geolocalização não suportada")})()},[]),n.useEffect(()=>{if(i){const o=new Date,r=p.getTimes(o,i.lat,i.lng),g=(p.getPosition(r.sunset,i.lat,i.lng).azimuth*180/Math.PI+180)%360;d({time:r.sunset.toLocaleTimeString(),azimuth:g})}},[i]),n.useEffect(()=>{const o=r=>{r.alpha!==null&&s(360-r.alpha)};return window.addEventListener("deviceorientation",o,!0),()=>{window.removeEventListener("deviceorientation",o)}},[]);const f=()=>a?(a.azimuth-e+360)%360:0,h=()=>{const o=Math.abs(m);return o<15||o>345},m=f();return t.jsx("div",{className:"App",children:t.jsxs("header",{className:"App-header",children:[t.jsx("h1",{children:"Bússola do Pôr do Sol"}),c&&t.jsx("p",{className:"error",children:c}),a&&t.jsxs("div",{className:"compass-container",children:[t.jsx("div",{className:"compass",children:t.jsxs("div",{className:"compass-circle",children:[t.jsx("div",{className:`arrow ${h()?"aligned":""}`,style:{transform:`rotate(${m}deg)`},children:t.jsx("div",{className:"arrow-head",children:"▲"})}),t.jsx("div",{className:"sun-icon",children:"☀️"})]})}),t.jsxs("div",{className:"info",children:[t.jsxs("p",{children:["Horário: ",a.time]}),t.jsxs("p",{children:["Direção: ",a.azimuth.toFixed(1),"°"]}),t.jsx("p",{className:"help",children:"Gire o celular para alinhar a bússola"})]})]})]})})}v.createRoot(document.getElementById("root")).render(t.jsx(n.StrictMode,{children:t.jsx(x,{})}));
//# sourceMappingURL=index-BFCSafUA.js.map
