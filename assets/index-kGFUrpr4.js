import{r as o,j as t,c as E}from"./react-vendor-BzzwJzSH.js";import{s as g}from"./suncalc-DPRD1gft.js";import"./vendor-SPyfQU6S.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();function L(){const[i,l]=o.useState(null),[n,d]=o.useState(null),[e,s]=o.useState(0),[c,m]=o.useState(null),[p,h]=o.useState(!1),[f,v]=o.useState(!1),x=10;o.useEffect(()=>{(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{l({lat:a.coords.latitude,lng:a.coords.longitude})},()=>m("Ative a localizaÃ§Ã£o para usar o app")):m("GeolocalizaÃ§Ã£o nÃ£o suportada")})()},[]),o.useEffect(()=>{if(i){const r=new Date,a=g.getTimes(r,i.lat,i.lng),N=(g.getPosition(a.sunset,i.lat,i.lng).azimuth*180/Math.PI+180)%360;d({time:a.sunset.toLocaleTimeString(),azimuth:N})}},[i]),o.useEffect(()=>{const r=a=>{a.alpha!==null&&s(360-a.alpha)};return window.addEventListener("deviceorientation",r,!0),()=>window.removeEventListener("deviceorientation",r)},[]);const j=(()=>{if(!n)return 0;const r=(n.azimuth-e+360)%360,u=Math.min(Math.abs(r),360-Math.abs(r))<x;return v(u),u&&!p?(navigator.vibrate&&navigator.vibrate(200),h(!0)):!u&&p&&h(!1),r})();return t.jsx("div",{className:"App",children:t.jsxs("header",{className:"App-header",children:[t.jsx("h1",{children:"BÃºssola do PÃ´r do Sol"}),c&&t.jsx("p",{className:"error",children:c}),n&&t.jsxs("div",{className:"compass-container",children:[t.jsxs("div",{className:`compass ${f?"aligned":""}`,children:[t.jsx("div",{className:"arrow",style:{transform:`rotate(${j}deg)`},children:t.jsx("div",{className:"sun-icon",children:"â˜€ï¸"})}),t.jsx("div",{className:"compass-circle"})]}),t.jsxs("div",{className:"info",children:[t.jsxs("p",{children:["HorÃ¡rio: ",n.time]}),t.jsxs("p",{children:["DireÃ§Ã£o: ",n.azimuth.toFixed(1),"Â°"]}),f&&t.jsx("p",{className:"aligned-message",children:"ğŸ“¸ Perfeito! Tire sua foto do pÃ´r do sol!"}),!f&&t.jsx("p",{className:"help",children:"Gire o celular para alinhar a bÃºssola"})]})]})]})})}E.createRoot(document.getElementById("root")).render(t.jsx(o.StrictMode,{children:t.jsx(L,{})}));
//# sourceMappingURL=index-kGFUrpr4.js.map
