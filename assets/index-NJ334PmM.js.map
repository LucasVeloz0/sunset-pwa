{"version":3,"file":"index-NJ334PmM.js","sources":["../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport * as SunCalc from 'suncalc';\nimport './App.css';\n\nfunction App() {\n  const [location, setLocation] = useState(null);\n  const [sunsetData, setSunsetData] = useState(null);\n  const [deviceOrientation, setDeviceOrientation] = useState(0);\n  const [error, setError] = useState(null);\n  const [isAligned, setIsAligned] = useState(false);\n\n  const ALIGNMENT_TOLERANCE = 10; // Toler√¢ncia de alinhamento em graus\n\n  // 1. Obter geolocaliza√ß√£o\n  useEffect(() => {\n    const getLocation = () => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(\n          (position) => {\n            setLocation({\n              lat: position.coords.latitude,\n              lng: position.coords.longitude\n            });\n          },\n          (err) => setError(\"Ative a localiza√ß√£o para usar o app\")\n        );\n      } else {\n        setError(\"Geolocaliza√ß√£o n√£o suportada\");\n      }\n    };\n    getLocation();\n  }, []);\n\n  // 2. Calcular dire√ß√£o do p√¥r do sol\n  useEffect(() => {\n    if (location) {\n      const now = new Date();\n      const times = SunCalc.getTimes(now, location.lat, location.lng);\n      const sunsetPos = SunCalc.getPosition(times.sunset, location.lat, location.lng);\n      const azimuth = (sunsetPos.azimuth * 180 / Math.PI + 180) % 360;\n      \n      setSunsetData({\n        time: times.sunset.toLocaleTimeString(),\n        azimuth\n      });\n    }\n  }, [location]);\n\n  // 3. Configurar sensor de orienta√ß√£o\n  useEffect(() => {\n    const handleOrientation = (e) => {\n      if (e.alpha !== null) {\n        setDeviceOrientation(360 - e.alpha); // Normaliza para 0-360¬∞\n      }\n    };\n\n    window.addEventListener('deviceorientation', handleOrientation, true);\n    \n    return () => {\n      window.removeEventListener('deviceorientation', handleOrientation);\n    };\n  }, []);\n\n  // 4. Calcular √¢ngulo relativo e detectar alinhamento\n  const calculateRelativeAngle = () => {\n    if (!sunsetData) return 0;\n\n    const angle = (sunsetData.azimuth - deviceOrientation + 360) % 360;\n    const delta = Math.min(Math.abs(angle), 360 - Math.abs(angle));\n    \n    setIsAligned(delta < ALIGNMENT_TOLERANCE);\n\n    return angle;\n  };\n\n  const relativeAngle = calculateRelativeAngle();\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>B√∫ssola do P√¥r do Sol</h1>\n        \n        {error && <p className=\"error\">{error}</p>}\n\n        {sunsetData && (\n          <div className=\"compass-container\">\n            <div className={`compass ${isAligned ? 'aligned' : ''}`}>\n              <div \n                className=\"arrow\" \n                style={{ transform: `rotate(${relativeAngle}deg)` }}\n              >\n                <div className=\"sun-icon\">‚òÄÔ∏è</div>\n              </div>\n              <div className=\"compass-circle\"></div>\n            </div>\n            \n            <div className=\"info\">\n              <p>Hor√°rio: {sunsetData.time}</p>\n              <p>Dire√ß√£o: {sunsetData.azimuth.toFixed(1)}¬∞</p>\n              {isAligned ? (\n                <p className=\"aligned-message\">üì∏ Perfeito! Voc√™ est√° na dire√ß√£o do p√¥r do sol!</p>\n              ) : (\n                <p className=\"help\">Gire o celular para alinhar a b√∫ssola</p>\n              )}\n            </div>\n          </div>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport App from './App.jsx'\n\ncreateRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n)\n"],"names":["App","location","setLocation","useState","sunsetData","setSunsetData","deviceOrientation","setDeviceOrientation","error","setError","isAligned","setIsAligned","ALIGNMENT_TOLERANCE","useEffect","position","err","now","times","SunCalc.getTimes","azimuth","SunCalc.getPosition","handleOrientation","e","relativeAngle","angle","delta","jsxs","jsx","createRoot","StrictMode"],"mappings":"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"}