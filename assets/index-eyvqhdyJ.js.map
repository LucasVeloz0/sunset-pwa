{"version":3,"file":"index-eyvqhdyJ.js","sources":["../../src/utils/sunUtils.js","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["import * as SunCalc from 'suncalc';\r\n\r\n/**\r\n * Calcula a dire√ß√£o do p√¥r do sol em graus\r\n * @param {number} lat - Latitude\r\n * @param {number} lng - Longitude\r\n * @returns {number} Azimute em graus (0 = Norte, 90 = Leste)\r\n */\r\nexport const getSunsetDirection = (lat, lng) => {\r\n  const now = new Date();\r\n  const sunsetTime = SunCalc.getTimes(now, lat, lng).sunset;\r\n  const sunPos = SunCalc.getPosition(sunsetTime, lat, lng);\r\n  // Converte radianos para graus e normaliza para 0-360\r\n  return ((sunPos.azimuth * 180 / Math.PI) + 180) % 360;\r\n};\r\n\r\n/**\r\n * Normaliza a orienta√ß√£o do dispositivo\r\n * @param {number} alpha - √Çngulo da b√∫ssola (0-360)\r\n * @returns {number} √Çngulo ajustado\r\n */\r\nexport const normalizeOrientation = (alpha) => {\r\n  return (360 - alpha) % 360;\r\n};\r\n\r\n/**\r\n * Normaliza um √¢ngulo para o intervalo [-180, 180]\r\n * Isso permite transi√ß√µes suaves atrav√©s do ponto 0/360\r\n */\r\nexport const normalizeAngle = (angle) => {\r\n  angle = angle % 360;\r\n  if (angle > 180) {\r\n    angle -= 360;\r\n  }\r\n  if (angle < -180) {\r\n    angle += 360;\r\n  }\r\n  return angle;\r\n};\r\n\r\n// Fun√ß√£o corrigida para suaviza√ß√£o angular circular\r\nexport const smoothAngle = (previous, current, factor) => {\r\n  // Calcula a diferen√ßa levando em conta a circularidade\r\n  let diff = current - previous;\r\n  \r\n  // Ajusta para o menor caminho circular\r\n  if (diff > 180) diff -= 360;\r\n  if (diff < -180) diff += 360;\r\n  \r\n  // Aplica o fator de suaviza√ß√£o\r\n  return previous + diff * factor;\r\n};","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport * as SunCalc from 'suncalc';\r\nimport { getSunsetDirection, normalizeOrientation } from './utils/sunUtils';\r\nimport './App.css';\r\n\r\n\r\n/**\r\n * Componente principal do aplicativo Guia Fotogr√°fico do P√¥r do Sol.\r\n * Gerencia:\r\n * - Geolocaliza√ß√£o do usu√°rio\r\n * - C√°lculo da dire√ß√£o do sol\r\n * - Orienta√ß√£o do dispositivo\r\n * - Controle de c√¢mera e captura de fotos\r\n * - Interface de b√∫ssola digital\r\n */\r\n\r\nconst App = () => {\r\n  // Estados do aplicativo\r\n  const [position, setPosition] = useState(null);\r\n  const [sunAzimuth, setSunAzimuth] = useState(0);\r\n  const [deviceHeading, setDeviceHeading] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [cameraActive, setCameraActive] = useState(false);\r\n  const [photo, setPhoto] = useState(null);\r\n  const [facingMode, setFacingMode] = useState('environment');\r\n  const [isDaytime, setIsDaytime] = useState(false);\r\n  const [sunTimes, setSunTimes] = useState({ \r\n    sunrise: null, \r\n    sunset: null, \r\n    solarNoon: null \r\n  });\r\n  const [celestialBody, setCelestialBody] = useState('sun'); // 'sun' ou 'moon'\r\n  const [moonAzimuth, setMoonAzimuth] = useState(0);\r\n  const [moonTimes, setMoonTimes] = useState({ \r\n    moonrise: null, \r\n    moonset: null \r\n  });\r\n\r\n  const [moonPhase, setMoonPhase] = useState({\r\n    fraction: 0,\r\n    phase: 0,\r\n    emoji: 'üåë'\r\n  });\r\n\r\n  // Refer√™ncias para elementos DOM\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const notificationTimeout = useRef(null);\r\n\r\n  // Estados para notifica√ß√µes\r\n  const [notificationPermission, setNotificationPermission] = useState('default');\r\n  const [notificationScheduled, setNotificationScheduled] = useState(false);\r\n\r\n    // Novos estados para suaviza√ß√£o\r\nconst [smoothedSunAngle, setSmoothedSunAngle] = useState(deviceHeading || 0);\r\nconst [smoothedMoonAngle, setSmoothedMoonAngle] = useState(deviceHeading || 0);\r\n\r\n    // ======================================================================\r\n  // FUN√á√ïES UTILIT√ÅRIAS PARA A LUA\r\n  // ======================================================================\r\n  \r\n  /**\r\n   * Determina o emoji da fase lunar com base na fra√ß√£o iluminada\r\n   * @param {number} fraction - Fra√ß√£o iluminada (0 a 1)\r\n   * @returns {string} Emoji representando a fase lunar\r\n   */\r\n  const getMoonPhaseEmoji = (fraction) => {\r\n    if (fraction === 0) return 'üåë';         // Lua nova\r\n    if (fraction < 0.25) return 'üåí';        // Crescente inicial\r\n    if (fraction < 0.5) return 'üåì';         // Quarto crescente\r\n    if (fraction < 0.75) return 'üåî';        // Gibosa crescente\r\n    if (fraction === 1) return 'üåï';         // Lua cheia\r\n    if (fraction > 0.75) return 'üåñ';        // Gibosa minguante\r\n    if (fraction > 0.5) return 'üåó';         // Quarto minguante\r\n    return 'üåò';                             // Minguante final\r\n  };\r\n\r\n  /**\r\n   * Obt√©m o nome da fase lunar com base no valor da fase\r\n   * @param {number} phase - Valor da fase (0 a 1)\r\n   * @returns {string} Nome da fase lunar\r\n   */\r\n  const getMoonPhaseName = (phase) => {\r\n    if (phase === 0 || phase === 1) return 'Lua Nova';\r\n    if (phase < 0.25) return 'Crescente Inicial';\r\n    if (phase === 0.25) return 'Quarto Crescente';\r\n    if (phase < 0.5) return 'Gibosa Crescente';\r\n    if (phase === 0.5) return 'Lua Cheia';\r\n    if (phase < 0.75) return 'Gibosa Minguante';\r\n    if (phase === 0.75) return 'Quarto Minguante';\r\n    return 'Minguante Final';\r\n  };\r\n\r\n  // ======================================================================\r\n  // EFEITOS PARA INICIALIZA√á√ÉO E GERENCIAMENTO DE RECURSOS\r\n  // ======================================================================\r\n\r\n  /**\r\n   * Efeito para obten√ß√£o da geolocaliza√ß√£o do usu√°rio.\r\n   * Executa apenas uma vez na montagem do componente.\r\n   */  \r\n  // Solicitar permiss√£o para notifica√ß√µes\r\n  useEffect(() => {\r\n    if ('Notification' in window) {\r\n      if (Notification.permission !== 'granted' && Notification.permission !== 'denied') {\r\n        Notification.requestPermission().then(permission => {\r\n          setNotificationPermission(permission);\r\n        });\r\n      } else {\r\n        setNotificationPermission(Notification.permission);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Obter geolocaliza√ß√£o do usu√°rio\r\n  useEffect(() => {\r\n    const handleSuccess = (pos) => {\r\n      setPosition({\r\n        lat: pos.coords.latitude,\r\n        lng: pos.coords.longitude\r\n      });\r\n    };\r\n\r\n    const handleError = (err) => {\r\n      setError(err.message || 'Erro ao obter localiza√ß√£o');\r\n    };\r\n\r\n    // Verifica suporte a geolocaliza√ß√£o\r\n    if (!navigator.geolocation) {\r\n      setError('Geolocaliza√ß√£o n√£o suportada');\r\n      return;\r\n    }\r\n\r\n    // Solicita localiza√ß√£o com alta precis√£o\r\n    navigator.geolocation.getCurrentPosition(handleSuccess, handleError, {\r\n      enableHighAccuracy: true,\r\n      timeout: 5000\r\n    });\r\n  }, []);\r\n\r\n  /**\r\n   * Efeito para c√°lculo da dire√ß√£o do sol.\r\n   * Executa sempre que a posi√ß√£o do usu√°rio muda.\r\n   */\r\n/**\r\n   * Efeito para c√°lculo da dire√ß√£o do sol E DA LUA\r\n   */\r\n    useEffect(() => {\r\n     if (position) {\r\n      // Calcular azimute do sol\r\n      const azimuth = getSunsetDirection(position.lat, position.lng);\r\n      setSunAzimuth(azimuth);\r\n\r\n      // Calcular azimute da lua\r\n      const now = new Date();\r\n      const moonPos = SunCalc.getMoonPosition(now, position.lat, position.lng);\r\n      const moonAzimuth = (moonPos.azimuth * 180 / Math.PI + 180) % 360;\r\n      setMoonAzimuth(moonAzimuth);\r\n       }\r\n     }, [position]);\r\n  /**\r\n   * Efeito para configura√ß√£o do sensor de orienta√ß√£o.\r\n   * Adiciona listener para eventos de orienta√ß√£o do dispositivo.\r\n   */\r\n\r\n  // Configurar sensor de orienta√ß√£o\r\n  useEffect(() => {\r\n    const handleOrientation = (event) => {\r\n      if (event.alpha !== null) {\r\n        let alpha = event.alpha;\r\n        // Tratamento especial para iOS (webkitCompassHeading)\r\n        if (typeof event.webkitCompassHeading !== 'undefined') {\r\n          alpha = event.webkitCompassHeading;\r\n        }\r\n\r\n        // Normaliza e atualiza a dire√ß√£o do dispositivo\r\n        setDeviceHeading(normalizeOrientation(alpha));\r\n      }\r\n    };\r\n\r\n    // Verifica suporte ao sensor\r\n    if (window.DeviceOrientationEvent) {\r\n      window.addEventListener('deviceorientation', handleOrientation, true);\r\n    } else {\r\n      setError('Sensor de orienta√ß√£o n√£o suportado neste dispositivo');\r\n    }\r\n    \r\n    return () => {\r\n      window.removeEventListener('deviceorientation', handleOrientation);\r\n    };\r\n  }, []);\r\n\r\n  /**\r\n   * Efeito para c√°lculo dos hor√°rios do sol E DA LUA\r\n   */\r\n  useEffect(() => {\r\n    if (position) {\r\n      const updateSunData = () => {\r\n        const now = new Date();\r\n        const times = SunCalc.getTimes(now, position.lat, position.lng);\r\n        const sunPos = SunCalc.getPosition(now, position.lat, position.lng);\r\n        \r\n        setSunTimes({\r\n          sunrise: times.sunrise,\r\n          sunset: times.sunset,\r\n          solarNoon: times.solarNoon\r\n        });\r\n        setIsDaytime(sunPos.altitude > 0);\r\n\r\n        // Calcular hor√°rios da lua\r\n        const moonTimes = SunCalc.getMoonTimes(now, position.lat, position.lng);\r\n        setMoonTimes({\r\n          moonrise: moonTimes.rise,\r\n          moonset: moonTimes.set\r\n        });\r\n\r\n        // Calcular fase da lua\r\n        const moonIllumination = SunCalc.getMoonIllumination(now);\r\n        setMoonPhase({\r\n          fraction: moonIllumination.fraction,\r\n          phase: moonIllumination.phase,\r\n          emoji: getMoonPhaseEmoji(moonIllumination.fraction),\r\n          name: getMoonPhaseName(moonIllumination.phase)\r\n        });\r\n      };\r\n      \r\n      updateSunData();\r\n      const interval = setInterval(updateSunData, 60000);\r\n      \r\n      return () => {\r\n        clearInterval(interval);\r\n        if (notificationTimeout.current) {\r\n          clearTimeout(notificationTimeout.current);\r\n        }\r\n      };\r\n    }\r\n  }, [position]);\r\n\r\n    /**\r\n   * Efeito para controle da c√¢mera.\r\n   * Gerencia ciclo de vida do stream de v√≠deo:\r\n   * - Inicia c√¢mera quando cameraActive √© true\r\n   * - Para stream quando desativado ou ao desmontar\r\n   * - Alterna entre c√¢meras quando facingMode muda\r\n   */\r\n  // Agendar notifica√ß√£o quando os hor√°rios do sol mudarem\r\n  useEffect(() => {\r\n    if (sunTimes.sunset && notificationPermission === 'granted' && !notificationScheduled) {\r\n      scheduleSunsetNotification();\r\n    }\r\n  }, [sunTimes, notificationPermission, notificationScheduled]);\r\n\r\n  // Fun√ß√£o para agendar notifica√ß√£o do p√¥r do sol\r\n  const scheduleSunsetNotification = useCallback(() => {\r\n    // Limpar notifica√ß√µes anteriores\r\n    if (notificationTimeout.current) {\r\n      clearTimeout(notificationTimeout.current);\r\n    }\r\n    \r\n    if (!sunTimes.sunset) return;\r\n\r\n    // Calcular 15 minutos antes do p√¥r do sol\r\n    const notificationTime = new Date(sunTimes.sunset.getTime() - 15 * 60000);\r\n    const now = new Date();\r\n    \r\n    // Verificar se o hor√°rio ainda n√£o passou\r\n    if (notificationTime <= now) return;\r\n    \r\n    const timeUntilNotification = notificationTime - now;\r\n    \r\n    notificationTimeout.current = setTimeout(() => {\r\n      if (notificationPermission === 'granted') {\r\n        new Notification('O p√¥r do sol est√° pr√≥ximo!', {\r\n          body: 'Faltam 15 minutos para o p√¥r do sol. Prepare-se para capturar uma foto perfeita!',\r\n          icon: '/sunset-icon.png'\r\n        });\r\n      }\r\n      // Resetar estado para permitir novo agendamento\r\n      setNotificationScheduled(false);\r\n    }, timeUntilNotification);\r\n    \r\n    setNotificationScheduled(true);\r\n  }, [sunTimes, notificationPermission]);\r\n\r\n  // Controle da c√¢mera\r\n  useEffect(() => {\r\n    let stream = null;\r\n    \r\n    const startCamera = async () => {\r\n      try {\r\n        // Evita m√∫ltiplas inicializa√ß√µes\r\n        if (videoRef.current && videoRef.current.srcObject) {\r\n          return;\r\n        }\r\n        \r\n        // Configura√ß√µes da c√¢mera\r\n        const constraints = {\r\n          video: { \r\n            facingMode: facingMode,\r\n            width: { ideal: 1280 },\r\n            height: { ideal: 720 }\r\n          }\r\n        };\r\n\r\n        // Antes de pedir novo stream, pare o anterior se existir\r\n        if (videoRef.current && videoRef.current.srcObject) {\r\n          videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n          videoRef.current.srcObject = null;\r\n        }\r\n        // Agora pe√ßa o novo stream normalmente\r\n\r\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        // Configura elemento de v√≠deo        \r\n        \r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          videoRef.current.onloadedmetadata = () => {\r\n            videoRef.current.play().catch(err => {\r\n              setError('Erro ao reproduzir v√≠deo: ' + err.message);\r\n            });\r\n          };\r\n        }\r\n      } catch (err) {\r\n        setError('Erro ao acessar c√¢mera: ' + err.message);\r\n        setCameraActive(false);\r\n      }\r\n    };\r\n\r\n    // Inicia c√¢mera se estiver ativa    \r\n    if (cameraActive) {\r\n      startCamera();\r\n    }\r\n\r\n    // Limpeza: para todos os tracks ao desmontar ou mudar depend√™ncias\r\n    return () => {\r\n      if (stream) {\r\n        stream.getTracks().forEach(track => track.stop());\r\n      }\r\n    };\r\n  }, [cameraActive, facingMode]);\r\n\r\n  // ======================================================================\r\n  // FUN√á√ïES DE CONTROLE DA C√ÇMERA\r\n  // ======================================================================\r\n\r\n  /** Alterna entre c√¢meras frontal e traseira */\r\n  const toggleCamera = () => {\r\n    setFacingMode(prev => prev === 'user' ? 'environment' : 'user');\r\n  };\r\n\r\n  /** Captura uma foto do v√≠deo atual e gera data URL */  \r\n  const capturePhoto = () => {\r\n    const video = videoRef.current;\r\n    const canvas = canvasRef.current;\r\n    \r\n    // Verifica se o v√≠deo est√° pronto    \r\n    if (video && canvas && video.readyState >= 2) {\r\n      // Configura canvas com dimens√µes do v√≠deo      \r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n      const ctx = canvas.getContext('2d');\r\n      \r\n      // Aplica flip horizontal apenas para c√¢mera frontal      \r\n      if (facingMode === 'user') {\r\n        ctx.translate(canvas.width, 0);\r\n        ctx.scale(-1, 1);\r\n      }\r\n      \r\n      // Captura frame atual do v√≠deo      \r\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n      // Gera URL da imagem e atualiza estado      \r\n      setPhoto(canvas.toDataURL('image/jpeg', 0.9));\r\n    }\r\n  };\r\n\r\n  /** Fecha a c√¢mera e libera recursos */  \r\n  const closeCamera = () => {\r\n    if (videoRef.current?.srcObject) {\r\n      // Para todos os tracks de m√≠dia\r\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n      videoRef.current.srcObject = null; \r\n    }\r\n    setCameraActive(false);\r\n    setPhoto(null);\r\n  };\r\n\r\n  // Limpeza global\r\n  useEffect(() => {\r\n    return () => {\r\n      if (videoRef.current?.srcObject) {\r\n        videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n      }\r\n      // Limpar timeout ao desmontar\r\n      if (notificationTimeout.current) {\r\n        clearTimeout(notificationTimeout.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // ======================================================================\r\n  // FUN√á√ïES DE C√ÅLCULO E RENDERIZA√á√ÉO\r\n  // ======================================================================\r\n\r\n  /** \r\n   * Calcula √¢ngulo relativo cont√≠nuo (0-360)\r\n   * @param {number} targetAzimuth\r\n   * @returns number √Çngulo em graus 0-360\r\n   */\r\nfunction calculateContinuousAngle(targetAzimuth, previousAngle) {\r\n  // Calcula a diferen√ßa absoluta\r\n  let diff = (targetAzimuth - deviceHeading + 360) % 360;\r\n  \r\n  // Normaliza para 0-360\r\n  if (diff < 0) diff += 360;\r\n  \r\n  // Mant√©m a continuidade quando cruza 0/360\r\n  if (previousAngle !== undefined) {\r\n    const wrappedDiff = Math.abs(diff - previousAngle);\r\n    const unwrappedDiff = Math.abs(diff - (previousAngle + 360));\r\n    \r\n    if (unwrappedDiff < wrappedDiff) {\r\n      return previousAngle + (diff - (previousAngle + 360));\r\n    }\r\n  }\r\n  \r\n  return diff;\r\n}\r\n\r\n\r\n\r\n\r\n  /** \r\n   * Calcula a diferen√ßa angular para feedback de alinhamento\r\n   * @param {number} targetAzimuth\r\n   * @returns number Diferen√ßa angular em graus 0-180\r\n   */\r\n  function calculateAngleDifference(targetAzimuth) {\r\n  const diff = Math.abs(targetAzimuth - deviceHeading) % 360;\r\n  return Math.min(diff, 360 - diff);\r\n}\r\n  // Suaviza os √¢ngulos de rota√ß√£o\r\n  useEffect(() => {\r\n    const sunAngle = calculateContinuousAngle(sunAzimuth);\r\n    const moonAngle = calculateContinuousAngle(moonAzimuth);\r\n    \r\n    // Suaviza√ß√£o exponencial\r\n    setSmoothedSunAngle(prev => prev + (sunAngle - prev) * 0.2);\r\n    setSmoothedMoonAngle(prev => prev + (moonAngle - prev) * 0.2);\r\n    \r\n  }, [sunAzimuth, moonAzimuth, deviceHeading]);\r\n\r\n  /** Verifica alinhamento com o corpo celeste selecionado */\r\n  const targetAzimuth = celestialBody === 'sun' ? sunAzimuth : moonAzimuth;\r\n  const isAligned = calculateAngleDifference(targetAzimuth) < 15;\r\n\r\n  // ======================================================================\r\n  // RENDERIZA√á√ÉO DA INTERFACE\r\n  // ======================================================================\r\n\r\n  return (\r\n <div className={`app-container ${isDaytime ? 'day-theme' : 'night-theme'}`}>\r\n      <h1>{celestialBody === 'sun' ? 'üåÖ Localizando o Sol' : 'üåô Localizando a Lua'}</h1>\r\n      \r\n      {/* Bot√£o de altern√¢ncia */}\r\n      <div className=\"celestial-toggle\">\r\n        <button \r\n          className={celestialBody === 'sun' ? 'active' : ''}\r\n          onClick={() => setCelestialBody('sun')}\r\n        >\r\n          ‚òÄÔ∏è Sol\r\n        </button>\r\n        <button \r\n          className={celestialBody === 'moon' ? 'active' : ''}\r\n          onClick={() => setCelestialBody('moon')}\r\n        >\r\n          üåô Lua\r\n        </button>\r\n      </div>\r\n\r\n      {/* Informa√ß√µes do corpo celeste */}\r\n      <div className=\"celestial-info\">\r\n        {celestialBody === 'sun' ? (\r\n          <div className=\"info-cards\">\r\n            <div className=\"info-card\">\r\n              <span>‚òÄÔ∏è Nascer do sol</span>\r\n              <strong>{formatTime(sunTimes?.sunrise)}</strong>\r\n            </div>\r\n            <div className=\"info-card\">\r\n              <span>üåá P√¥r do sol</span>\r\n              <strong>{formatTime(sunTimes?.sunset)}</strong>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"info-cards\">\r\n            <div className=\"info-card\">\r\n              <span>üåï Nascer da lua</span>\r\n              <strong>{formatTime(moonTimes?.moonrise)}</strong>\r\n            </div>\r\n            <div className=\"info-card\">\r\n              <span>üåë P√¥r da lua</span>\r\n              <strong>{formatTime(moonTimes?.moonset)}</strong>\r\n            </div>\r\n            {/* Novo card para fase lunar */}\r\n            <div className=\"info-card moon-phase\">\r\n              <span>{moonPhase.emoji} Fase</span>\r\n              <strong>{moonPhase.name}</strong>\r\n              <div className=\"moon-phase-bar\">\r\n                <div \r\n                  className=\"moon-phase-fill\"\r\n                  style={{ width: `${moonPhase.fraction * 100}%` }}\r\n                ></div>\r\n              </div>\r\n              <span className=\"moon-percentage\">\r\n                {Math.round(moonPhase.fraction * 100)}% iluminada\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {/* √Årea da c√¢mera */}\r\n      \r\n      {cameraActive && (\r\n        <div className=\"camera-container\">\r\n          <video\r\n            ref={videoRef}\r\n            className={`camera-preview${facingMode === 'user' ? ' mirrored' : ''}`}\r\n            playsInline\r\n            muted\r\n          />\r\n\r\n          <div className=\"camera-controls\">\r\n            <button className=\"camera-btn\" onClick={toggleCamera} aria-label=\"Alternar c√¢mera\">\r\n              üîÑ\r\n            </button>\r\n            <button className=\"camera-btn capture-btn\" onClick={capturePhoto} aria-label=\"Capturar foto\">\r\n              ‚≠ï\r\n            </button>\r\n            <button className=\"camera-btn\" onClick={closeCamera} aria-label=\"Fechar c√¢mera\">\r\n              ‚úñ\r\n            </button>\r\n          </div>\r\n\r\n          {photo && (\r\n            <div className=\"photo-preview\">\r\n              <img src={photo} alt=\"Foto capturada\" />\r\n              <a \r\n                href={photo} \r\n                download={`por-do-sol-${Date.now()}.jpg`}\r\n                className=\"download-button\"\r\n              >\r\n                ‚¨áÔ∏è Baixar\r\n              </a>\r\n              <button onClick={() => setPhoto(null)} className=\"close-button\">\r\n                ‚ùå Fechar\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* B√∫ssola digital e informa√ß√µes */}\r\n      <div className=\"compass-wrapper \">\r\n        <div className=\"compass\">\r\n          {/* Ponteiro do Sol (sempre vis√≠vel) */}\r\n          <div \r\n            className={`direction-arrow ${celestialBody === 'sun' ? 'active' : 'secondary'}`} \r\n            style={{ transform: `rotate(${smoothedSunAngle}deg)` }}\r\n          >\r\n            <div className=\"celestial-indicator\">‚òÄÔ∏è</div>\r\n          </div>\r\n          \r\n          {/* Ponteiro da Lua (sempre vis√≠vel) */}\r\n          <div \r\n            className={`direction-arrow ${celestialBody === 'moon' ? 'active' : 'secondary'}`} \r\n            style={{ transform: `rotate(${smoothedMoonAngle}deg)` }}\r\n          >\r\n            <div className=\"celestial-indicator moon-indicator\">\r\n              {moonPhase.emoji}              \r\n            </div>            \r\n          </div>          \r\n        </div>\r\n\r\n        {/* Bot√£o para ativar c√¢mera */}\r\n        {!cameraActive && (\r\n          <button \r\n            className=\"main-camera-btn\"\r\n            onClick={() => setCameraActive(true)}\r\n          >\r\n            üì∏ Ativar C√¢mera\r\n          </button>\r\n        )}\r\n\r\n        {/* Painel de informa√ß√µes */}\r\n        <div className=\"info-panel\">\r\n          <p>\r\n            üß≠ Dire√ß√£o: {celestialBody === 'sun'\r\n              ? `${sunAzimuth.toFixed(1)}¬∞ (Sol)`\r\n              : `${moonAzimuth.toFixed(1)}¬∞ (Lua)`}\r\n          </p>\r\n          <div className={`alignment-feedback ${isAligned ? 'aligned' : ''}`}>\r\n            {isAligned\r\n              ? `‚≠ê ALINHADO COM ${celestialBody === 'sun' ? 'O SOL' : 'A LUA'}! ‚≠ê`\r\n              : `Gire o dispositivo para ${celestialBody === 'sun' ? 'o Sol' : 'a Lua'}... ‚û°Ô∏è`}\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      {/* Exibi√ß√£o de erros */}\r\n      {error && <div className=\"error-banner\">{error}</div>}\r\n      \r\n      {/* Canvas oculto para captura de fotos */}      \r\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Fun√ß√£o utilit√°ria para formatar hor√°rios\r\nfunction formatTime(date) {\r\n  if (!date) return '--:--';\r\n  const d = new Date(date);\r\n  return d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n}\r\n\r\nexport default App;","import { StrictMode } from 'react'\r\nimport { createRoot } from 'react-dom/client'\r\nimport './index.css'\r\nimport App from './App.jsx'\r\n\r\ncreateRoot(document.getElementById('root')).render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n)\r\n"],"names":["getSunsetDirection","lat","lng","now","sunsetTime","SunCalc.getTimes","SunCalc.getPosition","normalizeOrientation","alpha","App","position","setPosition","useState","sunAzimuth","setSunAzimuth","deviceHeading","setDeviceHeading","error","setError","cameraActive","setCameraActive","photo","setPhoto","facingMode","setFacingMode","isDaytime","setIsDaytime","sunTimes","setSunTimes","celestialBody","setCelestialBody","moonAzimuth","setMoonAzimuth","moonTimes","setMoonTimes","moonPhase","setMoonPhase","videoRef","useRef","canvasRef","notificationTimeout","notificationPermission","setNotificationPermission","notificationScheduled","setNotificationScheduled","smoothedSunAngle","setSmoothedSunAngle","smoothedMoonAngle","setSmoothedMoonAngle","getMoonPhaseEmoji","fraction","getMoonPhaseName","phase","useEffect","permission","handleSuccess","pos","handleError","err","azimuth","SunCalc.getMoonPosition","handleOrientation","event","updateSunData","times","sunPos","SunCalc.getMoonTimes","moonIllumination","SunCalc.getMoonIllumination","interval","scheduleSunsetNotification","useCallback","notificationTime","timeUntilNotification","stream","constraints","track","toggleCamera","prev","capturePhoto","video","canvas","ctx","closeCamera","_a","calculateContinuousAngle","targetAzimuth","previousAngle","diff","calculateAngleDifference","sunAngle","moonAngle","isAligned","jsx","jsxs","formatTime","date","createRoot","StrictMode"],"mappings":"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"}